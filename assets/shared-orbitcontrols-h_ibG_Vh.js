import{W as C,P as S,S as D,D as W,B,M as q,a as A,R as G}from"./vendor-three-CF0qx6hp.js";function I(b){const{canvas:k,inputElement:n}=b,p=new C({antialias:!0,canvas:k}),y=75,g=2,F=.1,j=100,o=new S(y,g,F,j);o.position.z=4;const r=new D;{const i=new W(16777215,1);i.position.set(-1,2,4),r.add(i)}const O=1,P=1,w=1,h=new B(O,P,w);function m(e,t,i){const c=new q({color:t}),s=new A(e,c);return r.add(s),s.position.set(i.x,i.y,i.z),s}const E=[()=>m(h,4500104,l()),()=>m(h,8930474,l()),()=>m(h,11176004,l())];function l(){return{x:Math.random()*60+-30,y:Math.random()*60+-30,z:Math.random()*60*1+-30-40}}const H=3e3,x=[];for(let e=0;e<H;e++)for(const t of E)x.push(t());class L{constructor(){this.raycaster=new G,this.pickedObject=null,this.pickedObjectSavedColor=0}pick(t,i,c,s){this.pickedObject&&(this.pickedObject.material.emissive.setHex(this.pickedObjectSavedColor),this.pickedObject=void 0),this.raycaster.setFromCamera(t,c);const v=this.raycaster.intersectObjects(i.children);v.length&&(this.pickedObject=v[0].object,this.pickedObjectSavedColor=this.pickedObject.material.emissive.getHex(),this.pickedObject.material.emissive.setHex(s*8%2>1?16776960:16711680))}}const a={x:-2,y:-2},M=new L;d();function R(e){const t=e.domElement,i=n.clientWidth,c=n.clientHeight,s=t.width!==i||t.height!==c;return s&&e.setSize(i,c,!1),s}function f(e){e*=.001,R(p)&&(o.aspect=n.clientWidth/n.clientHeight,o.updateProjectionMatrix()),x.forEach((t,i)=>{const c=1+i*1e-4,s=e*c;t.rotation.x=s,t.rotation.y=s}),M.pick(a,r,o,e),p.render(r,o),requestAnimationFrame(f)}requestAnimationFrame(f);function z(e){const t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function u(e){const t=z(e);a.x=t.x/n.clientWidth*2-1,a.y=t.y/n.clientHeight*-2+1}function d(){a.x=-1e5,a.y=-1e5}n.addEventListener("mousemove",u),n.addEventListener("mouseout",d),n.addEventListener("mouseleave",d),n.addEventListener("touchstart",e=>{e.preventDefault(),u(e.touches[0])},{passive:!1}),n.addEventListener("touchmove",e=>{u(e.touches[0])}),n.addEventListener("touchend",e=>{d()})}export{I as i};
