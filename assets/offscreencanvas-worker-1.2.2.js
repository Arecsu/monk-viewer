import{i as h,E as l}from"./renderer-1.2.2.js";function r(){}class a extends l{constructor(e){super(),this.id=e,this.style={},this.rootProxy=this}get clientWidth(){return this.width}get clientHeight(){return this.height}getRootNode(){return this.rootProxy}setPointerCapture(){}releasePointerCapture(){}getBoundingClientRect(){return{left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}}handleEvent(e){if(e.type==="size"){this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height,this.pixelRatio=e.pixelRatio;return}e.preventDefault=r,e.stopPropagation=r,this.dispatchEvent(e)}m_interactivity(e){self.postMessage({type:"interactivity",id:this.id,state:e})}m_loaded(e){self.postMessage({type:"loaded",id:this.id,state:e})}m_ready(e){self.postMessage({type:"ready",id:this.id,state:e})}focus(){}}class c{constructor(){this.targets={},this.handleEvent=this.handleEvent.bind(this)}makeProxy(e){const{id:i}=e,o=new a(i);this.targets[i]=o}getProxy(e){return this.targets[e]}handleEvent(e){this.targets[e.id].handleEvent(e.data)}}const s=new c;let n;function p(t){const e=s.getProxy(t.canvasId);e.ownerDocument=e,self.document={},n=h({canvas:t.canvas,inputElement:e,pixelRatio:t.pixelRatio,modelUrl:t.modelUrl,envmapUrl:t.envmapUrl,minDistance:t.minDistance,targetDistance:t.targetDistance,maxDistance:t.maxDistance,initDelay:t.initDelay,startup:t.startup,initDelayInteractive:t.initDelayInteractive,lowPerformanceSettings:t.lowPerformanceSettings,perfSampling:t.perfSampling,e_interactivityChange:i=>e.m_interactivity(i),e_loaded:i=>e.m_loaded(i),e_ready:i=>e.m_ready(i)})}function g(t){s.makeProxy(t)}const d={start:p,makeProxy:g,event:s.handleEvent,enableRendering:()=>n.enableRendering(),disableRendering:()=>n.disableRendering(),dispose:()=>{n&&(n.dispose(),n=null)}};self.onmessage=function(t){const e=d[t.data.type];if(typeof e!="function")throw new Error("no handler for type: "+t.data.type);e(t.data)};
