import{i as r}from"./shared-orbitcontrols-Bv_akEYn.js";import{E as h}from"./vendor-three-BBAo10n7.js";import"./gainmap-js-tLnfN5Uc.js";import"./postprocessing-CJEqnmHP.js";function s(){}class l extends h{constructor(t){super(),this.id=t,this.style={},this.rootProxy=this}get clientWidth(){return this.width}get clientHeight(){return this.height}getRootNode(){return this.rootProxy}setPointerCapture(){}releasePointerCapture(){}getBoundingClientRect(){return{left:this.left,top:this.top,width:this.width,height:this.height,right:this.left+this.width,bottom:this.top+this.height}}handleEvent(t){if(t.type==="size"){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height,this.pixelRatio=t.pixelRatio;return}t.preventDefault=s,t.stopPropagation=s,this.dispatchEvent(t)}m_interactivity(t){self.postMessage({type:"interactivity",id:this.id,state:t})}m_loaded(t){self.postMessage({type:"loaded",id:this.id,state:t})}focus(){}}class a{constructor(){this.targets={},this.handleEvent=this.handleEvent.bind(this)}makeProxy(t){const{id:i}=t,o=new l(i);this.targets[i]=o}getProxy(t){return this.targets[t]}handleEvent(t){this.targets[t.id].handleEvent(t.data)}}const n=new a;function c(e){const t=n.getProxy(e.canvasId);t.ownerDocument=t,self.document={},r({canvas:e.canvas,inputElement:t,pixelRatio:e.pixelRatio,modelUrl:e.modelUrl,envmapUrl:e.envmapUrl,minDistance:e.minDistance,targetDistance:e.targetDistance,maxDistance:e.maxDistance,initDelay:e.initDelay,initDelayInteractive:e.initDelayInteractive,lowPerformanceSettings:e.lowPerformanceSettings,perfSampling:e.perfSampling,e_interactivityChange:i=>t.m_interactivity(i),e_loaded:i=>t.m_loaded(i)})}function p(e){n.makeProxy(e)}const g={start:c,makeProxy:p,event:n.handleEvent};self.onmessage=function(e){const t=g[e.data.type];if(typeof t!="function")throw new Error("no handler for type: "+e.data.type);t(e.data)};
